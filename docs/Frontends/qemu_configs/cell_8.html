<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Cell 8</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
  <style>
    html {
      padding: 0;
      margin: 0;
    }

    nav {
      position: fixed;
      overflow: auto;
      top: 0;
      left: 0;
      right: auto;
      bottom: 0;
      width: 200px;
    }

    header {
      background-color: #EEE;
      padding: 10px;
    }

    body {
      padding: 0 0 0 200px;
      margin: 0;
    }

    @media screen and (max-width: 600px) {
      body {
        padding-left: 0;
      }

      nav {
        display: none;
      }
    }
  </style>
</head>

<body>
  <nav>
    <h3><a href="../qemu_configs/index.html">qemu configs</a></h3>
    <a href="./cell_0.html">Cell 0</a>
<br /><br />
<a href="./cell_1.html">Cell 1</a>
<br /><br />
<a href="./cell_2.html">Cell 2</a>
<br /><br />
<a href="./cell_3.html">Cell 3</a>
<br /><br />
<a href="./cell_4.html">Cell 4</a>
<br /><br />
<a href="./cell_5.html">Cell 5</a>
<br /><br />
<a href="./cell_6.html">Cell 6</a>
<br /><br />
<a href="./cell_7.html">Cell 7</a>
<br /><br />
<a href="./cell_8.html">Cell 8</a>
<br /><br />

  </nav>
  <header>
    <a href="../qemu_configs/index.html">qemu configs</a> | <a href="./cell_7.html">Cell 7</a> |  | <a href="../../search.html">Search</a>
  </header>

  <p>The QEMU command creates a virtual machine with a Windows 10 ISO file, enables VirtIO drivers and networking, and configures various device settings. The command also allocates 6144 MB of memory and synchronizes the VM's clock with the host system's clock.</p>
<h1>Cell 8</h1>



<pre class="bash"><code>#!/bin/sh
WINIMG=~/vm/Win10_1803_English_x64.iso
VIRTIMG=~/vm/virtio-win-0.1.149.iso
qemu-system-x86_64 --enable-kvm -drive driver=raw,file=~/vm/win10.img,if=virtio -m 6144 \
-net nic,model=virtio -net user -cdrom ${WINIMG} \
-drive file=${VIRTIMG},index=3,media=cdrom \
-rtc base=localtime,clock=host -smp cores=4,threads=8 \
-usb -device usb-tablet \
-net user,smb=$HOME

</code></pre>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.css">


<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

<!-- and it's easy to individually load additional languages -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>

<script>hljs.highlightAll();</script>

<p><strong>QEMU Command Breakdown</strong></p>
<p>This is a QEMU system command that sets up a virtual machine (VM) environment. Here's a breakdown of the command:</p>
<h3>Variables</h3>
<ul>
<li><code>WINIMG</code>: Path to the Windows 10 ISO file (<code>~/vm/Win10_1803_English_x64.iso</code>)</li>
<li><code>VIRTIMG</code>: Path to the VirtIO ISO file (<code>~/vm/virtio-win-0.1.149.iso</code>)</li>
</ul>
<h3>Options</h3>
<ul>
<li><code>--enable-kvm</code>: Enables KVM acceleration</li>
<li><code>-drive</code>: Specifies a drive to attach to the VM
<ul>
<li><code>driver=raw</code>: Drives are raw files</li>
<li><code>file=~/vm/win10.img</code>: Points to the disk image file (<code>win10.img</code>)</li>
<li><code>if=virtio</code>: Uses VirtIO interface</li>
</ul></li>
<li><code>-m</code>: Allocates 6144 MB of memory to the VM</li>
<li><code>-net nic,model=virtio</code>: Configures a VirtIO network interface</li>
<li><code>-net user</code>: Enables user-mode networking</li>
<li><code>-cdrom ${WINIMG}</code>: Attaches the Windows 10 ISO file as a CD-ROM drive</li>
<li><code>-drive file=${VIRTIMG},index=3,media=cdrom</code>: Attaches the VirtIO ISO file as a CD-ROM drive (index 3)</li>
<li><code>-rtc base=localtime,clock=host</code>: Synchronizes the VM's clock with the host system's clock</li>
<li><code>-smp cores=4,threads=8</code>: Configures the VM to use 4 cores and 8 threads</li>
<li><code>-usb</code>: Enables USB support</li>
<li><code>-device usb-tablet</code>: Attaches a USB tablet device</li>
<li><code>-net user,smb=$HOME</code>: Maps the host's <code>$HOME</code> directory to a SMB share in the VM</li>
</ul>
<p>This command sets up a Windows 10 VM with VirtIO drivers and networking, and configures various device settings.</p>

</body>

</html>