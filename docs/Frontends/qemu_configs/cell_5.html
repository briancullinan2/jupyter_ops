<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Cell 5</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
  <style>
    html {
      padding: 0;
      margin: 0;
    }

    nav {
      position: fixed;
      overflow: auto;
      top: 0;
      left: 0;
      right: auto;
      bottom: 0;
      width: 200px;
    }

    header {
      background-color: #EEE;
      padding: 10px;
    }

    body {
      padding: 0 0 0 200px;
      margin: 0;
    }

    @media screen and (max-width: 600px) {
      body {
        padding-left: 0;
      }

      nav {
        display: none;
      }
    }
  </style>
</head>

<body>
  <nav>
    <h3><a href="../qemu_configs/index.html">qemu configs</a></h3>
    <a href="./cell_0.html">Cell 0</a>
<br /><br />
<a href="./cell_1.html">Cell 1</a>
<br /><br />
<a href="./cell_2.html">Cell 2</a>
<br /><br />
<a href="./cell_3.html">Cell 3</a>
<br /><br />
<a href="./cell_4.html">Cell 4</a>
<br /><br />
<a href="./cell_5.html">Cell 5</a>
<br /><br />
<a href="./cell_6.html">Cell 6</a>
<br /><br />
<a href="./cell_7.html">Cell 7</a>
<br /><br />
<a href="./cell_8.html">Cell 8</a>
<br /><br />

  </nav>
  <header>
    <a href="../qemu_configs/index.html">qemu configs</a> | <a href="./cell_4.html">Cell 4</a> | <a href="./cell_6.html">Cell 6</a> | <a href="../../search.html">Search</a>
  </header>

  <p>The provided code snippet contains two identical QEMU sessions with the same parameters, but the second session has an added option <code>-cpu host</code> which specifies that the virtual machine should use the host CPU. This option is the only difference between the two sessions, and it allows the virtual machine to utilize the same CPU model as the physical machine running the QEMU session.</p>
<h1>Cell 5</h1>



<pre class="bash"><code>qemu-system-x86_64 --enable-kvm \ 
-drive file=./win10.img,if=virtio \
-smp 4 -m 4096 -vga qxl \
-net nic,model=virtio -net user \
-soundhw hda

qemu-system-x86_64 --enable-kvm \
-drive file=./win10.img,if=virtio \
-smp 4 -cpu host -m 4096 -vga qxl \
-net nic,model=virtio -net user \
-soundhw hda
</code></pre>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.css">


<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

<!-- and it's easy to individually load additional languages -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>

<script>hljs.highlightAll();</script>

<h3>Code Breakdown</h3>
<h4>Two QEMU Sessions</h4>
<p>The provided code snippet contains two identical QEMU sessions with some minor differences.</p>
<h4>QEMU Command</h4>
<pre><code class="language-bash">qemu-system-x86_64
</code></pre>
<p>The <code>qemu-system-x86_64</code> command is used to run a 64-bit x86 virtual machine.</p>
<h4>Enabling KVM</h4>
<pre><code class="language-bash">--enable-kvm
</code></pre>
<p>The <code>--enable-kvm</code> option enables the use of the KVM (Kernel-based Virtual Machine) acceleration on x86-based systems.</p>
<h4>Virtual Disk</h4>
<pre><code class="language-bash">-drive file=./win10.img,if=virtio
</code></pre>
<p>The <code>-drive</code> option adds a virtual disk to the system. The <code>file</code> parameter specifies the path to the disk image, and <code>if=virtio</code> specifies the interface type as VirtIO.</p>
<h4>System Configuration</h4>
<pre><code class="language-bash">-smp 4 -m 4096 -vga qxl
</code></pre>
<ul>
<li><code>-smp 4</code>: Specifies the number of virtual CPUs (4 in this case).</li>
<li><code>-m 4096</code>: Allocates 4096 MB of RAM to the system.</li>
<li><code>-vga qxl</code>: Uses the QXL (QEMU Enhanced Video Acceleration) graphics driver.</li>
</ul>
<h4>Networking</h4>
<pre><code class="language-bash">-net nic,model=virtio -net user
</code></pre>
<ul>
<li><code>-net nic,model=virtio</code>: Creates a VirtIO network interface.</li>
<li><code>-net user</code>: Enables user mode network emulation.</li>
</ul>
<h4>Sound Configuration</h4>
<pre><code class="language-bash">-soundhw hda
</code></pre>
<ul>
<li><code>-soundhw hda</code>: Uses the Intel HD Audio (HDA) sound driver.</li>
</ul>
<h3>Differences between the Two Sessions</h3>
<p>The only difference between the two sessions is the <code>-cpu host</code> option in the second session:</p>
<pre><code class="language-bash">-cpu host
</code></pre>
<p>This option specifies that the virtual machine should use the host CPU, which means it will use the same CPU model as the physical machine running the QEMU session.</p>

</body>

</html>