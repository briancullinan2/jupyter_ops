<p>Here's a 2-sentence summary:</p>
<p>These scripts and commands are used to convert various image files to TGA format, with options to handle different file types (PCX, JPG, JPEG) and color spaces. They use tools like <code>wal2tga</code>, <code>convert</code>, and <code>find</code> to automate the conversion process in Windows and Bash environments.</p>


<pre><code>
for /r %%v in (*.wal) do "Z:\planet_quake_data\tools\Wal2TGA\wal2tga copy.exe" "%%v" "%%~dpv%%~nv.tga"

# TODO: bash uses glob, windows can use "or" keyword
#windows
for /r %%v in (*.pcx or *.jpg or *.jpeg) do convert -colorspace RGB "%%v" "%%~dpv%%~nv.tga" ; done

#bash
for i in $(find . -iname '*.pcx' -o -iname '*.jpg' -o -iname '*.jpeg' -o -iname '*.tga'); \
do if [ ! -f "${i%.*}.tga" ]; \
then convert -colorspace RGB "$i" "${i%.*}.tga"; \
fi; \
done;


convert -colorspace RGB pak0.pk3dir/models/deadbods/dude/dead1.pcx pak0.pk3dir/models/deadbods/dude/dead1.tga
</code></pre>

<p><strong>Code Breakdown</strong></p>
<h3>Windows Script</h3>
<pre><code class="language-bash">for /r %%v in (*.wal) do &quot;Z:\planet_quake_data\tools\Wal2TGA\wal2tga copy.exe&quot; &quot;%%v&quot; &quot;%%~dpv%%~nv.tga&quot;
</code></pre>
<ul>
<li>This is a Windows batch script that loops through all files with the <code>.wal</code> extension in the current directory and its subdirectories (<code>/r</code> option).</li>
<li>For each file, it runs the <code>wal2tga copy.exe</code> executable from the specified path, passing the file path (<code>%%v</code>) and a new TGA file path generated by combining the original file's directory path (<code>%%~dpv</code>) and name (<code>%%~nv</code>) with a <code>.tga</code> extension.</li>
</ul>
<h3>Windows Script (Alternative)</h3>
<pre><code class="language-bash">for /r %%v in (*.pcx or *.jpg or *.jpeg) do convert -colorspace RGB &quot;%%v&quot; &quot;%%~dpv%%~nv.tga&quot; ; done
</code></pre>
<ul>
<li>This script is similar to the previous one but loops through files with the <code>.pcx</code>, <code>.jpg</code>, and <code>.jpeg</code> extensions.</li>
<li>For each file, it runs the <code>convert</code> command from ImageMagick, converting the file to RGB color space and saving it as a new TGA file in the same directory.</li>
</ul>
<h3>Bash Script</h3>
<pre><code class="language-bash">for i in $(find. -iname '*.pcx' -o -iname '*.jpg' -o -iname '*.jpeg' -o -iname '*.tga'); \
do if [! -f &quot;${i%.*}.tga&quot; ]; \
then convert -colorspace RGB &quot;$i&quot; &quot;${i%.*}.tga&quot;; \
fi; \
done;
</code></pre>
<ul>
<li>This script uses <code>find</code> to search for files with the <code>.pcx</code>, <code>.jpg</code>, <code>.jpeg</code>, and <code>.tga</code> extensions in the current directory and its subdirectories (<code>.</code>).</li>
<li>For each file, it checks if a corresponding TGA file with the same name but different extension exists. If not, it runs the <code>convert</code> command from ImageMagick, converting the file to RGB color space and saving it as a new TGA file in the same directory.</li>
</ul>
<h3>Single Command Example</h3>
<pre><code class="language-bash">convert -colorspace RGB pak0.pk3dir/models/deadbods/dude/dead1.pcx pak0.pk3dir/models/deadbods/dude/dead1.tga
</code></pre>
<ul>
<li>This is a single command that converts a specific PCX file to a TGA file using the <code>convert</code> command from ImageMagick.</li>
</ul>
