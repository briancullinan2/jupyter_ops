<p>This code provides functions to retrieve a specific custom data object and its corresponding import definition from the Eloqua API, likely for managing renewal-related data imports.</p>


<pre><code>var importer = require('../Core');
var request = importer.import('http request polyfill');
var eloquaImport = importer.import('eloqua import service');
var { bulkImportTemplate } = importer.import('eloqua create template');

function getCustomDataObject(eloquaToken, eloquaConfig) {
    return request.request({
        followAllRedirects: true,
        uri: eloquaConfig.rest_api_url + '/bulk/2.0/customobjects', // /60/fields',
        method: 'GET',
        headers: eloquaImport.eloquaRequestHeaders(eloquaToken)
    })
        .then(r => r.body.items.filter(i => i.name === 'AUT - NA Renewals')[0])
}

function getImportDefinitions(uri, eloquaToken, eloquaConfig) {
    return request.request({
        followAllRedirects: true,
        uri: eloquaConfig.rest_api_url + '/bulk/2.0' + uri + '/imports',
        method: 'GET',
        headers: eloquaImport.eloquaRequestHeaders(eloquaToken)
    })
        .then(r => r.body.items.filter(i => i.name === bulkImportTemplate(0).name)[0])
}

module.exports = {
    getCustomDataObject,
    getImportDefinitions
};
</code></pre>

<p>This code defines two functions for interacting with the Eloqua API to manage custom data objects and import definitions.</p>
<p><strong>Here's a breakdown:</strong></p>
<ol>
<li><p><strong>Imports:</strong></p>
<ul>
<li><code>importer</code>: A module likely providing utilities for importing other modules.</li>
<li><code>http request polyfill</code>: A library for making HTTP requests.</li>
<li><code>eloqua import service</code>: A module with Eloqua-specific import functionality.</li>
<li><code>eloqua create template</code>: A module containing a function <code>bulkImportTemplate</code> used for generating import templates.</li>
</ul></li>
<li><p><strong><code>getCustomDataObject</code> Function:</strong></p>
<ul>
<li>Takes <code>eloquaToken</code> and <code>eloquaConfig</code> as input.</li>
<li>Makes a GET request to the Eloqua API endpoint for custom objects.</li>
<li>Filters the response to find the custom object named &quot;AUT - NA Renewals&quot;.</li>
<li>Returns the first matching custom object.</li>
</ul></li>
<li><p><strong><code>getImportDefinitions</code> Function:</strong></p>
<ul>
<li>Takes <code>uri</code>, <code>eloquaToken</code>, and <code>eloquaConfig</code> as input.</li>
<li>Makes a GET request to the Eloqua API endpoint for import definitions.</li>
<li>Filters the response to find the import definition with the same name as the template generated by <code>bulkImportTemplate(0)</code>.</li>
<li>Returns the first matching import definition.</li>
</ul></li>
<li><p><strong>Exports:</strong></p>
<ul>
<li>Exports both <code>getCustomDataObject</code> and <code>getImportDefinitions</code> functions, making them available for use in other parts of the application.</li>
</ul></li>
</ol>
<p>In essence, this code provides functions to retrieve specific custom data objects and import definitions from the Eloqua API, likely used for managing data imports related to renewals.</p>
