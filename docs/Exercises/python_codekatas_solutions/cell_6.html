

<pre><code>class ListNode(object):
    def __init__(self, x):
        self.val = x
        self.next = None
        
    def __str__(self): # for your debugging purposes
        return str(self.val) + '->' + str(self.next)
    
    def __eq__(self, other): # for asserts to work
            return (isinstance(other, self.__class__) 
                and self.__dict__ == other.__dict__)
        
def reverse_list(head):
    """Iterative solution."""
    prev = None
    while head:
        nxt = head.next
        head.next = prev
        prev = head
        head = nxt
    return prev

head = ListNode(1)
rev = ListNode(1)
assert reverse_list(head) == head

head = ListNode(1)
head.next = ListNode(2)
rev = ListNode(2)
rev.next = ListNode(1)
assert reverse_list(head) == rev

head = ListNode(1)
head.next = ListNode(2)
head.next.next = ListNode(3)
rev = ListNode(3)
rev.next = ListNode(2)
rev.next.next = ListNode(1)
assert reverse_list(head) == rev
print('All passed!')</code></pre>

