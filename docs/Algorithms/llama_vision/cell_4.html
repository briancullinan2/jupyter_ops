

<pre><code>import path from 'path'
import process from 'process'
import { HFModelConfig_v1, InterfaceHF } from "outetts";

const HOMEPATH = process.env.HOME || process.env.HOMEPATH || process.env.USERPROFILE

// Configure the model
const model_config = new HFModelConfig_v1({
    model_path: 'OuteAI/OuteTTS-0.3-1B',
    language: "en", // Supported languages in v0.2: en, zh, ja, ko
    dtype: 'fp32', // Supported dtypes: fp32, q8, q4
})

let tts_interface
let speaker
async function generateSpeech(prompt) {
    // Initialize the interface
    if(!tts_interface) {
        tts_interface = await InterfaceHF({ model_version: "0.2", cfg: model_config })

        // Print available default speakers
        tts_interface.print_default_speakers()

        // Load a default speaker
        speaker = tts_interface.load_default_speaker("male_1")
    }

    // Generate speech
    const output = await tts_interface.generate({
        text: prompt,
        temperature: 0.1, // Lower temperature values may result in a more stable tone
        repetition_penalty: 1.1,
        //max_length: 4096,

        // Optional: Use a speaker profile for consistent voice characteristics
        // Without a speaker profile, the model will generate a voice with random characteristics
        speaker,
    })

    // Save the synthesized speech to a file
    output.save("output.wav")
}

export default generateSpeech
</code></pre>

